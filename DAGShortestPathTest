package graph.dagsp;

import graph.TestUtils;
import graph.metrics.Metrics;
import org.junit.Test;
import static org.junit.Assert.*;

import java.util.*;

public class DAGShortestPathTest {

    @Test
    public void testShortestPath() {
        List<List<int[]>> graph = new ArrayList<>();
        graph.add(Arrays.asList(new int[]{1, 1}));
        graph.add(Arrays.asList(new int[]{2, 2}));
        graph.add(Arrays.asList(new int[]{3, 3}));
        graph.add(new ArrayList<>());

        List<Integer> topoOrder = Arrays.asList(0, 1, 2, 3);
        Metrics metrics = new TestUtils.TestMetrics();

        DAGShortestPath shortestPath = new DAGShortestPath(graph, topoOrder, metrics);
        DAGShortestPath.ShortestPathResult result = shortestPath.findShortestPaths(0);

        int[] distances = result.getDistances();
        assertEquals(0, distances[0]);
        assertEquals(1, distances[1]);
        assertEquals(3, distances[2]);
        assertEquals(6, distances[3]);
    }
}
